[gd_scene load_steps=10 format=3 uid="uid://dpaaye4b1ct5e"]

[ext_resource type="Script" path="res://addons/BehavForGroups/BehavForGroups.gd" id="1_qevbp"]
[ext_resource type="Script" path="res://addons/BehavForGroups/Behavior.gd" id="2_21fqr"]
[ext_resource type="Script" path="res://addons/BehavForGroups/ForceRandom.gd" id="3_rck85"]
[ext_resource type="Script" path="res://addons/BehavForGroups/StayInBox.gd" id="4_q10aq"]
[ext_resource type="Script" path="res://addons/BehavForGroups/ForceGlobal.gd" id="5_hquvo"]
[ext_resource type="PackedScene" uid="uid://bft7tsr03p5up" path="res://Agent0.tscn" id="7_lvmt0"]

[sub_resource type="GDScript" id="GDScript_fw7qj"]
script/source = "extends RigidBody2D


# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	if transform.origin.x < 100:
		transform.origin.x = 600

	if transform.origin.y < 150:
		apply_central_impulse(Vector2(0,10))
	if transform.origin.y > 150:
		apply_central_impulse(Vector2(0,-10))
"

[sub_resource type="CircleShape2D" id="CircleShape2D_fp82s"]

[sub_resource type="SphereMesh" id="SphereMesh_tcpwm"]

[node name="Flow2D" type="Node2D"]

[node name="BehavForGroups" type="Node" parent="."]
script = ExtResource("1_qevbp")

[node name="Behavior" type="Node" parent="BehavForGroups"]
script = ExtResource("2_21fqr")
on_group = "cell"

[node name="ForceRandom" type="Node" parent="BehavForGroups/Behavior"]
script = ExtResource("3_rck85")
fx = 10.0
fy = 10.0
fz = 0.0

[node name="StayInBox" type="Node" parent="BehavForGroups/Behavior"]
script = ExtResource("4_q10aq")
x_min = 200.0
x_max = 600.0
y_min = 100.0
y_max = 200.0
z_min = 0.0
z_max = 0.0
loop_x = true

[node name="ForceGlobal" type="Node" parent="BehavForGroups/Behavior"]
script = ExtResource("5_hquvo")
fx = 2.0

[node name="RigidBody2D" type="RigidBody2D" parent="."]
position = Vector2(476.45, 173.4)
gravity_scale = 0.0
linear_damp = 4.0
constant_force = Vector2(-1700, 0)
script = SubResource("GDScript_fw7qj")

[node name="CollisionShape2D" type="CollisionShape2D" parent="RigidBody2D"]
scale = Vector2(3.38, 3.38)
shape = SubResource("CircleShape2D_fp82s")

[node name="MeshInstance2D" type="MeshInstance2D" parent="RigidBody2D"]
scale = Vector2(66.9, 66.9)
mesh = SubResource("SphereMesh_tcpwm")

[node name="Agent0" parent="." groups=["cell"] instance=ExtResource("7_lvmt0")]
position = Vector2(317, 301)

[node name="Agent1" parent="." instance=ExtResource("7_lvmt0")]
position = Vector2(245, 244)
